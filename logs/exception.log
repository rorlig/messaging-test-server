2013-11-08T21:39:37.991Z - error: uncaughtException: Undefined type at `messageSender`
  Did you try nesting Schemas? You can only nest using refs or arrays. date=Fri Nov 08 2013 16:39:37 GMT-0500 (EST), pid=57332, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=30306304, heapTotal=18635008, heapUsed=10580936, loadavg=[3.201171875, 3.37255859375, 3.4541015625], uptime=259542, trace=[column=11, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema.js, function=Function.Schema.interpretAsType, line=350, method=Schema.interpretAsType, native=false, column=29, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema.js, function=Schema.path, line=293, method=path, native=false, column=12, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema.js, function=Schema.add, line=207, method=add, native=false, column=10, file=Schema (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema.js, function=new, line=71, method=null, native=false, column=21, file=/Users/admin/work2/messaging-test-server/app/models/Message.js, function=, line=18, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false, column=10, file=module.js, function=Object.Module._extensions..js, line=474, method=Module._extensions..js, native=false, column=32, file=module.js, function=Module.load, line=356, method=load, native=false, column=12, file=module.js, function=Function.Module._load, line=312, method=Module._load, native=false, column=17, file=module.js, function=Module.require, line=364, method=require, native=false], stack=[TypeError: Undefined type at `messageSender`,   Did you try nesting Schemas? You can only nest using refs or arrays.,     at Function.Schema.interpretAsType (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema.js:350:11),     at Schema.path (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema.js:293:29),     at Schema.add (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema.js:207:12),     at new Schema (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema.js:71:10),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/app/models/Message.js:18:21),     at Module._compile (module.js:456:26),     at Object.Module._extensions..js (module.js:474:10),     at Module.load (module.js:356:32),     at Function.Module._load (module.js:312:12),     at Module.require (module.js:364:17)]
2013-11-08T21:40:36.923Z - error: uncaughtException: Schema hasn't been registered for model "Event".
Use mongoose.model(name, schema) date=Fri Nov 08 2013 16:40:36 GMT-0500 (EST), pid=57373, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=37453824, heapTotal=29087488, heapUsed=13957064, loadavg=[4.06982421875, 3.5224609375, 3.498046875], uptime=259601, trace=[column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/index.js, function=Mongoose.model, line=267, method=model, native=false, column=22, file=/Users/admin/work2/messaging-test-server/app/controllers/UserController.js, function=, line=8, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false, column=10, file=module.js, function=Object.Module._extensions..js, line=474, method=Module._extensions..js, native=false, column=32, file=module.js, function=Module.load, line=356, method=load, native=false, column=12, file=module.js, function=Function.Module._load, line=312, method=Module._load, native=false, column=17, file=module.js, function=Module.require, line=364, method=require, native=false, column=17, file=module.js, function=require, line=380, method=null, native=false, column=28, file=/Users/admin/work2/messaging-test-server/config/routes.js, function=, line=13, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false], stack=[MissingSchemaError: Schema hasn't been registered for model "Event"., Use mongoose.model(name, schema),     at Mongoose.model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/index.js:267:13),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/UserController.js:8:22),     at Module._compile (module.js:456:26),     at Object.Module._extensions..js (module.js:474:10),     at Module.load (module.js:356:32),     at Function.Module._load (module.js:312:12),     at Module.require (module.js:364:17),     at require (module.js:380:17),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/config/routes.js:13:28),     at Module._compile (module.js:456:26)]
2013-11-08T21:42:46.947Z - error: uncaughtException: Schema hasn't been registered for model "Event".
Use mongoose.model(name, schema) date=Fri Nov 08 2013 16:42:46 GMT-0500 (EST), pid=57459, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=37498880, heapTotal=30119424, heapUsed=14044168, loadavg=[3.79052734375, 3.56982421875, 3.5146484375], uptime=259731, trace=[column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/index.js, function=Mongoose.model, line=267, method=model, native=false, column=22, file=/Users/admin/work2/messaging-test-server/app/controllers/UserController.js, function=, line=8, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false, column=10, file=module.js, function=Object.Module._extensions..js, line=474, method=Module._extensions..js, native=false, column=32, file=module.js, function=Module.load, line=356, method=load, native=false, column=12, file=module.js, function=Function.Module._load, line=312, method=Module._load, native=false, column=17, file=module.js, function=Module.require, line=364, method=require, native=false, column=17, file=module.js, function=require, line=380, method=null, native=false, column=28, file=/Users/admin/work2/messaging-test-server/config/routes.js, function=, line=13, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false], stack=[MissingSchemaError: Schema hasn't been registered for model "Event"., Use mongoose.model(name, schema),     at Mongoose.model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/index.js:267:13),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/UserController.js:8:22),     at Module._compile (module.js:456:26),     at Object.Module._extensions..js (module.js:474:10),     at Module.load (module.js:356:32),     at Function.Module._load (module.js:312:12),     at Module.require (module.js:364:17),     at require (module.js:380:17),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/config/routes.js:13:28),     at Module._compile (module.js:456:26)]
2013-11-08T21:44:38.095Z - error: uncaughtException: Schema hasn't been registered for model "Account".
Use mongoose.model(name, schema) date=Fri Nov 08 2013 16:44:38 GMT-0500 (EST), pid=57542, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=37224448, heapTotal=29087488, heapUsed=13948640, loadavg=[7.26904296875, 4.54052734375, 3.8798828125], uptime=259843, trace=[column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/index.js, function=Mongoose.model, line=267, method=model, native=false, column=24, file=/Users/admin/work2/messaging-test-server/app/controllers/UserController.js, function=, line=9, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false, column=10, file=module.js, function=Object.Module._extensions..js, line=474, method=Module._extensions..js, native=false, column=32, file=module.js, function=Module.load, line=356, method=load, native=false, column=12, file=module.js, function=Function.Module._load, line=312, method=Module._load, native=false, column=17, file=module.js, function=Module.require, line=364, method=require, native=false, column=17, file=module.js, function=require, line=380, method=null, native=false, column=28, file=/Users/admin/work2/messaging-test-server/config/routes.js, function=, line=13, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false], stack=[MissingSchemaError: Schema hasn't been registered for model "Account"., Use mongoose.model(name, schema),     at Mongoose.model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/index.js:267:13),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/UserController.js:9:24),     at Module._compile (module.js:456:26),     at Object.Module._extensions..js (module.js:474:10),     at Module.load (module.js:356:32),     at Function.Module._load (module.js:312:12),     at Module.require (module.js:364:17),     at require (module.js:380:17),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/config/routes.js:13:28),     at Module._compile (module.js:456:26)]
2013-11-08T22:33:40.170Z - error: uncaughtException: Cast to ObjectId failed for value "{ phoneNumber: '8058074293',
  _id: 527d624abe61fce8e4000003,
  __v: 0,
  devices: [],
  messages: [] }" at path "messageSender" date=Fri Nov 08 2013 17:33:40 GMT-0500 (EST), pid=59315, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=52854784, heapTotal=34223104, heapUsed=17687848, loadavg=[3.9365234375, 3.39501953125, 3.4423828125], uptime=262785, trace=[column=null, file=null, function=path, line=null, method=null, native=false, column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema/objectid.js, function=ObjectId.cast, line=100, method=cast, native=false, column=17, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schematype.js, function=ObjectId.SchemaType.applySetters, line=476, method=SchemaType.applySetters, native=false, column=18, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=null, line=534, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.$__try, line=747, method=Document.$__try, native=false, column=24, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.set, line=533, method=Document.set, native=false, column=18, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.set, line=444, method=Document.set, native=false, column=10, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document, line=61, method=Document, native=false, column=12, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js, function=model.Model, line=38, method=Model, native=false, column=11, file=model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js, function=new, line=2160, method=null, native=false, column=20, file=/Users/admin/work2/messaging-test-server/app/controllers/messageController.js, function=, line=37, method=null, native=false], stack=[No listeners detected, throwing. Consider adding an error listener to your connection., CastError: Cast to ObjectId failed for value "{ phoneNumber: '8058074293',,   _id: 527d624abe61fce8e4000003,,   __v: 0,,   devices: [],,   messages: [] }" at path "messageSender",     at ObjectId.cast (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema/objectid.js:100:13),     at ObjectId.SchemaType.applySetters (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schematype.js:476:17),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:534:18,     at model.Document.$__try (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:747:8),     at model.Document.set (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:533:24),     at model.Document.set (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:444:18),     at model.Document (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:61:10),     at model.Model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js:38:12),     at new model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js:2160:11),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/messageController.js:37:20)]
2013-11-08T22:36:03.157Z - error: uncaughtException: Cast to ObjectId failed for value "{ phoneNumber: '8058074293',
  _id: 527d624abe61fce8e4000003,
  __v: 0,
  devices: [],
  messages: [] }" at path "messageSender" date=Fri Nov 08 2013 17:36:03 GMT-0500 (EST), pid=59399, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=52621312, heapTotal=34223104, heapUsed=17717912, loadavg=[4.009765625, 3.63818359375, 3.52685546875], uptime=262928, trace=[column=null, file=null, function=path, line=null, method=null, native=false, column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema/objectid.js, function=ObjectId.cast, line=100, method=cast, native=false, column=17, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schematype.js, function=ObjectId.SchemaType.applySetters, line=476, method=SchemaType.applySetters, native=false, column=18, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=null, line=534, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.$__try, line=747, method=Document.$__try, native=false, column=24, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.set, line=533, method=Document.set, native=false, column=18, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.set, line=444, method=Document.set, native=false, column=10, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document, line=61, method=Document, native=false, column=12, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js, function=model.Model, line=38, method=Model, native=false, column=11, file=model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js, function=new, line=2160, method=null, native=false, column=20, file=/Users/admin/work2/messaging-test-server/app/controllers/messageController.js, function=, line=39, method=null, native=false], stack=[No listeners detected, throwing. Consider adding an error listener to your connection., CastError: Cast to ObjectId failed for value "{ phoneNumber: '8058074293',,   _id: 527d624abe61fce8e4000003,,   __v: 0,,   devices: [],,   messages: [] }" at path "messageSender",     at ObjectId.cast (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema/objectid.js:100:13),     at ObjectId.SchemaType.applySetters (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schematype.js:476:17),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:534:18,     at model.Document.$__try (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:747:8),     at model.Document.set (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:533:24),     at model.Document.set (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:444:18),     at model.Document (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:61:10),     at model.Model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js:38:12),     at new model (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js:2160:11),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/messageController.js:39:20)]
2013-11-08T22:38:46.271Z - error: uncaughtException: Cast to ObjectId failed for value "{ phoneNumber: '8058074293',
  _id: 527d624abe61fce8e4000003,
  __v: 0,
  devices: [],
  messages: [] }" at path "messageSender" date=Fri Nov 08 2013 17:38:46 GMT-0500 (EST), pid=59497, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=52424704, heapTotal=34223104, heapUsed=17659456, loadavg=[3.400390625, 3.4990234375, 3.4833984375], uptime=263091, trace=[column=null, file=null, function=path, line=null, method=null, native=false, column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema/objectid.js, function=ObjectId.cast, line=100, method=cast, native=false, column=17, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schematype.js, function=ObjectId.SchemaType.applySetters, line=476, method=SchemaType.applySetters, native=false, column=18, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=null, line=534, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.$__try, line=747, method=Document.$__try, native=false, column=24, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.set, line=533, method=Document.set, native=false, column=45, file=[as messageSender] (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Object.defineProperty.set, line=1175, method=Object.defineProperty.set, native=false, column=28, file=/Users/admin/work2/messaging-test-server/app/controllers/messageController.js, function=, line=42, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=, line=162, method=null, native=false, column=17, file=events.js, function=Promise.EventEmitter.emit, line=95, method=EventEmitter.emit, native=false, column=38, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.emit, line=79, method=emit, native=false], stack=[No listeners detected, throwing. Consider adding an error listener to your connection., CastError: Cast to ObjectId failed for value "{ phoneNumber: '8058074293',,   _id: 527d624abe61fce8e4000003,,   __v: 0,,   devices: [],,   messages: [] }" at path "messageSender",     at ObjectId.cast (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schema/objectid.js:100:13),     at ObjectId.SchemaType.applySetters (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/schematype.js:476:17),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:534:18,     at model.Document.$__try (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:747:8),     at model.Document.set (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:533:24),     at model.Object.defineProperty.set [as messageSender] (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:1175:45),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/messageController.js:42:28),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:162:8),     at Promise.EventEmitter.emit (events.js:95:17),     at Promise.emit (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:79:38)]
2013-11-10T03:03:16.737Z - error: uncaughtException: listen EADDRINUSE date=Sat Nov 09 2013 22:03:16 GMT-0500 (EST), pid=64818, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=51449856, heapTotal=33203200, heapUsed=18028960, loadavg=[2.98046875, 3.9169921875, 8.92626953125], uptime=365361, trace=[column=11, file=net.js, function=errnoException, line=901, method=null, native=false, column=14, file=net.js, function=Server._listen2, line=1039, method=_listen2, native=false, column=10, file=net.js, function=listen, line=1061, method=null, native=false, column=5, file=net.js, function=Server.listen, line=1127, method=listen, native=false, column=24, file=/Users/admin/work2/messaging-test-server/node_modules/express/lib/application.js, function=Function.app.listen, line=533, method=app.listen, native=false, column=5, file=/Users/admin/work2/messaging-test-server/server.js, function=, line=38, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false, column=10, file=module.js, function=Object.Module._extensions..js, line=474, method=Module._extensions..js, native=false, column=32, file=module.js, function=Module.load, line=356, method=load, native=false, column=12, file=module.js, function=Function.Module._load, line=312, method=Module._load, native=false], stack=[Error: listen EADDRINUSE,     at errnoException (net.js:901:11),     at Server._listen2 (net.js:1039:14),     at listen (net.js:1061:10),     at Server.listen (net.js:1127:5),     at Function.app.listen (/Users/admin/work2/messaging-test-server/node_modules/express/lib/application.js:533:24),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/server.js:38:5),     at Module._compile (module.js:456:26),     at Object.Module._extensions..js (module.js:474:10),     at Module.load (module.js:356:32),     at Function.Module._load (module.js:312:12)]
2013-11-10T03:13:04.240Z - error: uncaughtException: AppLogger is not defined date=Sat Nov 09 2013 22:13:04 GMT-0500 (EST), pid=64860, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=50831360, heapTotal=34235136, heapUsed=19424328, loadavg=[2.32470703125, 2.6982421875, 5.7626953125], uptime=365949, trace=[column=5, file=/Users/admin/work2/messaging-test-server/app/controllers/AuthenticationController.js, function=, line=35, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=, line=162, method=null, native=false, column=17, file=events.js, function=Promise.EventEmitter.emit, line=95, method=EventEmitter.emit, native=false, column=38, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.emit, line=79, method=emit, native=false, column=20, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.fulfill, line=92, method=fulfill, native=false, column=15, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/promise.js, function=Promise.resolve, line=108, method=resolve, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=, line=162, method=null, native=false, column=17, file=events.js, function=Promise.EventEmitter.emit, line=95, method=EventEmitter.emit, native=false, column=38, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.emit, line=79, method=emit, native=false, column=20, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.fulfill, line=92, method=fulfill, native=false], stack=[ReferenceError: AppLogger is not defined,     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/AuthenticationController.js:35:5),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:162:8),     at Promise.EventEmitter.emit (events.js:95:17),     at Promise.emit (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:79:38),     at Promise.fulfill (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:92:20),     at Promise.resolve (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/promise.js:108:15),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:162:8),     at Promise.EventEmitter.emit (events.js:95:17),     at Promise.emit (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:79:38),     at Promise.fulfill (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:92:20)]
2013-11-10T19:11:18.088Z - error: uncaughtException: listen EADDRINUSE date=Sun Nov 10 2013 14:11:18 GMT-0500 (EST), pid=68122, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=50655232, heapTotal=33203200, heapUsed=18721384, loadavg=[3.52734375, 3.2333984375, 4.55322265625], uptime=423443, trace=[column=11, file=net.js, function=errnoException, line=901, method=null, native=false, column=14, file=net.js, function=Server._listen2, line=1039, method=_listen2, native=false, column=10, file=net.js, function=listen, line=1061, method=null, native=false, column=5, file=net.js, function=Server.listen, line=1127, method=listen, native=false, column=24, file=/Users/admin/work2/messaging-test-server/node_modules/express/lib/application.js, function=Function.app.listen, line=533, method=app.listen, native=false, column=5, file=/Users/admin/work2/messaging-test-server/server.js, function=, line=38, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false, column=10, file=module.js, function=Object.Module._extensions..js, line=474, method=Module._extensions..js, native=false, column=32, file=module.js, function=Module.load, line=356, method=load, native=false, column=12, file=module.js, function=Function.Module._load, line=312, method=Module._load, native=false], stack=[Error: listen EADDRINUSE,     at errnoException (net.js:901:11),     at Server._listen2 (net.js:1039:14),     at listen (net.js:1061:10),     at Server.listen (net.js:1127:5),     at Function.app.listen (/Users/admin/work2/messaging-test-server/node_modules/express/lib/application.js:533:24),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/server.js:38:5),     at Module._compile (module.js:456:26),     at Object.Module._extensions..js (module.js:474:10),     at Module.load (module.js:356:32),     at Function.Module._load (module.js:312:12)]
2013-11-10T19:13:38.055Z - error: uncaughtException: Cannot find module '../common/AppLogger' date=Sun Nov 10 2013 14:13:38 GMT-0500 (EST), pid=68141, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=50479104, heapTotal=33203200, heapUsed=17882936, loadavg=[3.12939453125, 3.123046875, 4.3056640625], uptime=423583, trace=[column=15, file=module.js, function=Function.Module._resolveFilename, line=338, method=Module._resolveFilename, native=false, column=25, file=module.js, function=Function.Module._load, line=280, method=Module._load, native=false, column=17, file=module.js, function=Module.require, line=364, method=require, native=false, column=17, file=module.js, function=require, line=380, method=null, native=false, column=17, file=/Users/admin/work2/messaging-test-server/config/routes.js, function=, line=22, method=null, native=false, column=26, file=module.js, function=Module._compile, line=456, method=_compile, native=false, column=10, file=module.js, function=Object.Module._extensions..js, line=474, method=Module._extensions..js, native=false, column=32, file=module.js, function=Module.load, line=356, method=load, native=false, column=12, file=module.js, function=Function.Module._load, line=312, method=Module._load, native=false, column=17, file=module.js, function=Module.require, line=364, method=require, native=false], stack=[Error: Cannot find module '../common/AppLogger',     at Function.Module._resolveFilename (module.js:338:15),     at Function.Module._load (module.js:280:25),     at Module.require (module.js:364:17),     at require (module.js:380:17),     at Object.<anonymous> (/Users/admin/work2/messaging-test-server/config/routes.js:22:17),     at Module._compile (module.js:456:26),     at Object.Module._extensions..js (module.js:474:10),     at Module.load (module.js:356:32),     at Function.Module._load (module.js:312:12),     at Module.require (module.js:364:17)]
2013-11-10T19:17:03.253Z - error: uncaughtException: Message is not defined date=Sun Nov 10 2013 14:17:03 GMT-0500 (EST), pid=68248, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=52281344, heapTotal=35255040, heapUsed=19953808, loadavg=[2.6787109375, 2.87158203125, 3.93896484375], uptime=423788, trace=[column=27, file=/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js, function=, line=45, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=, line=162, method=null, native=false, column=17, file=events.js, function=Promise.EventEmitter.emit, line=98, method=EventEmitter.emit, native=false, column=38, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.emit, line=79, method=emit, native=false, column=20, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.fulfill, line=92, method=fulfill, native=false, column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js, function=handleSave, line=128, method=null, native=false, column=16, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js, function=null, line=414, method=null, native=false, column=9, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js, function=, line=343, method=null, native=false, column=14, file=events.js, function=g, line=175, method=null, native=false, column=17, file=events.js, function=EventEmitter.emit, line=106, method=emit, native=false], stack=[ReferenceError: Message is not defined,     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js:45:27),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:162:8),     at Promise.EventEmitter.emit (events.js:98:17),     at Promise.emit (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:79:38),     at Promise.fulfill (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:92:20),     at handleSave (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js:128:13),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js:414:16,     at null.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:343:9),     at g (events.js:175:14),     at EventEmitter.emit (events.js:106:17)]
2013-11-10T19:17:27.434Z - error: uncaughtException: Object { __v: 0,
  _id: 527fdbc70d24b60000000004,
  participants: [],
  messages: [] } has no method 'addToSet' date=Sun Nov 10 2013 14:17:27 GMT-0500 (EST), pid=68253, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=51507200, heapTotal=35255040, heapUsed=20098800, loadavg=[2.58837890625, 2.83251953125, 3.89306640625], uptime=423812, trace=[column=24, file=/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js, function=, line=53, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=, line=162, method=null, native=false, column=17, file=events.js, function=Promise.EventEmitter.emit, line=98, method=EventEmitter.emit, native=false, column=38, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.emit, line=79, method=emit, native=false, column=20, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.fulfill, line=92, method=fulfill, native=false, column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js, function=handleSave, line=128, method=null, native=false, column=16, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js, function=null, line=414, method=null, native=false, column=9, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js, function=, line=343, method=null, native=false, column=14, file=events.js, function=g, line=175, method=null, native=false, column=17, file=events.js, function=EventEmitter.emit, line=106, method=emit, native=false], stack=[TypeError: Object { __v: 0,,   _id: 527fdbc70d24b60000000004,,   participants: [],,   messages: [] } has no method 'addToSet',     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js:53:24),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:162:8),     at Promise.EventEmitter.emit (events.js:98:17),     at Promise.emit (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:79:38),     at Promise.fulfill (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:92:20),     at handleSave (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js:128:13),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js:414:16,     at null.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:343:9),     at g (events.js:175:14),     at EventEmitter.emit (events.js:106:17)]
2013-11-10T19:19:21.548Z - error: uncaughtException: Cannot call method 'addToSet' of undefined date=Sun Nov 10 2013 14:19:21 GMT-0500 (EST), pid=68268, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=51769344, heapTotal=34223104, heapUsed=20205640, loadavg=[2.6064453125, 2.7353515625, 3.71533203125], uptime=423926, trace=[column=37, file=/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js, function=, line=55, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=, line=162, method=null, native=false, column=17, file=events.js, function=Promise.EventEmitter.emit, line=98, method=EventEmitter.emit, native=false, column=38, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.emit, line=79, method=emit, native=false, column=20, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.fulfill, line=92, method=fulfill, native=false, column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js, function=handleSave, line=128, method=null, native=false, column=16, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js, function=null, line=414, method=null, native=false, column=9, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js, function=, line=343, method=null, native=false, column=14, file=events.js, function=g, line=175, method=null, native=false, column=17, file=events.js, function=EventEmitter.emit, line=106, method=emit, native=false], stack=[TypeError: Cannot call method 'addToSet' of undefined,     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js:55:37),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:162:8),     at Promise.EventEmitter.emit (events.js:98:17),     at Promise.emit (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:79:38),     at Promise.fulfill (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:92:20),     at handleSave (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/model.js:128:13),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js:414:16,     at null.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mongodb/lib/mongodb/collection.js:343:9),     at g (events.js:175:14),     at EventEmitter.emit (events.js:106:17)]
2013-11-10T19:30:40.803Z - error: uncaughtException: user is not defined date=Sun Nov 10 2013 14:30:40 GMT-0500 (EST), pid=68341, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=69545984, heapTotal=59231744, heapUsed=31458008, loadavg=[1.39208984375, 2.18603515625, 2.9169921875], uptime=424605, trace=[column=29, file=/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js, function=, line=95, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=, line=162, method=null, native=false, column=17, file=events.js, function=Promise.EventEmitter.emit, line=95, method=EventEmitter.emit, native=false, column=38, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.emit, line=79, method=emit, native=false, column=20, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.fulfill, line=92, method=fulfill, native=false, column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js, function=null, line=1822, method=null, native=false, column=11, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.init, line=243, method=Document.init, native=false, column=10, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js, function=completeOne, line=1820, method=null, native=false, column=11, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js, function=null, line=1788, method=null, native=false, column=16, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js, function=null, line=414, method=null, native=false], stack=[ReferenceError: user is not defined,     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js:95:29),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:162:8),     at Promise.EventEmitter.emit (events.js:95:17),     at Promise.emit (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:79:38),     at Promise.fulfill (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:92:20),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js:1822:13,     at model.Document.init (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:243:11),     at completeOne (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js:1820:10),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js:1788:11,     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js:414:16]
2013-11-10T19:30:58.251Z - error: uncaughtException: user is not defined date=Sun Nov 10 2013 14:30:58 GMT-0500 (EST), pid=68345, uid=501, gid=20, cwd=/Users/admin/work2/messaging-test-server, execPath=/Users/admin/.nvm/v0.10.12/bin/node, version=v0.10.12, argv=[node, /Users/admin/work2/messaging-test-server/server.js], rss=51986432, heapTotal=35255040, heapUsed=19905480, loadavg=[1.859375, 2.23828125, 2.91748046875], uptime=424623, trace=[column=29, file=/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js, function=, line=95, method=null, native=false, column=8, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=, line=162, method=null, native=false, column=17, file=events.js, function=Promise.EventEmitter.emit, line=95, method=EventEmitter.emit, native=false, column=38, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.emit, line=79, method=emit, native=false, column=20, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js, function=Promise.fulfill, line=92, method=fulfill, native=false, column=13, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js, function=null, line=1822, method=null, native=false, column=11, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js, function=model.Document.init, line=243, method=Document.init, native=false, column=10, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js, function=completeOne, line=1820, method=null, native=false, column=11, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js, function=null, line=1788, method=null, native=false, column=16, file=/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js, function=null, line=414, method=null, native=false], stack=[ReferenceError: user is not defined,     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/app/controllers/ConversationController.js:95:29),     at Promise.<anonymous> (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:162:8),     at Promise.EventEmitter.emit (events.js:95:17),     at Promise.emit (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:79:38),     at Promise.fulfill (/Users/admin/work2/messaging-test-server/node_modules/mongoose/node_modules/mpromise/lib/promise.js:92:20),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js:1822:13,     at model.Document.init (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/document.js:243:11),     at completeOne (/Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js:1820:10),     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/query.js:1788:11,     at /Users/admin/work2/messaging-test-server/node_modules/mongoose/lib/utils.js:414:16]
